## Odoo 18 Specific Notes

### Key Changes in Odoo 18
- **Everything from v17 applies** — v18 builds on v17's changes.
- **`<list>` is the standard**: `<tree>` is now deprecated with warnings.
- **Inline expressions are mandatory**: `attrs` dict syntax is fully removed. Use `invisible="..."`, `readonly="..."`, `required="..."` with Python-like expressions.
- **Improved OWL integration**: Better dev tools, improved component lifecycle.
- **New portal UX**: Redesigned portal frontend with modernized templates.
- **Domain expression improvements**: Enhanced domain parsing and validation.

### Important v18 Patterns
- Use `Command` objects for relational field manipulation (established in v17, now standard):
  ```python
  from odoo import Command
  record.write({
      'line_ids': [
          Command.create({'name': 'New line'}),
          Command.update(line_id, {'qty': 5}),
          Command.delete(line_id),
      ]
  })
  ```
- Use f-strings in Python (Odoo v18 requires Python 3.10+).
- Use `env.ref()` for XML ID lookups.
- Use `request.make_json_response()` in controllers for proper JSON responses.

### Search Views
- `expand` and `string` attributes on `<group>` inside search views are still tolerated (e.g. `<group expand="0" string="Group By">`), but they have no effect in the UI.
- The `string` attribute on the `<search>` root element is inert — not displayed anywhere.

### Removed in v18
- `attrs` dict syntax no longer works — will raise an error.
- `<tree>` is deprecated with warnings (use `<list>`).
- Old-style widget declarations in some views have been modernized.
